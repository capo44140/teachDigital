# Configuration de la base de données PostgreSQL
# Méthode 1 : Variables séparées (recommandée)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=teachdigital
DB_USER=teachdigital
DB_PASSWORD=change_me_in_production
DB_SSL=false

# Méthode 2 : Connection string (alternative)
# Format: postgresql://username:password@host:port/database?sslmode=require
# Pour Synology local (sans SSL): postgresql://username:password@synology.local:5432/database
# Pour Synology avec SSL: postgresql://username:password@synology.local:5432/database?sslmode=require
# DATABASE_URL=postgresql://username:password@synology.local:5432/teachdigital

# Clé secrète pour JWT (générez une clé forte en production)
JWT_SECRET=teachdigital-super-secret-jwt-key-2024-change-in-production

# Logging (stabilité prod)
# LOG_FORMAT=text|json (recommandé: json en prod)
LOG_FORMAT=json
# LOG_DEBUG=true active des logs plus verbeux
LOG_DEBUG=false
# LOG_ENABLE_FILE=false pour désactiver les fichiers (stdout seulement)
# LOG_ENABLE_FILE=true
# LOGS_DIR=/logs

# Timeouts DB (middleware withQueryTimeout) - en millisecondes
# Ajustez selon votre infra (Synology/DB distante)
API_DB_TIMEOUT_DEFAULT_MS=7000
API_DB_TIMEOUT_FAST_MS=3000
API_DB_TIMEOUT_STANDARD_MS=5000
API_DB_TIMEOUT_LONG_MS=9000

# Rate limiting (stabilité prod)
API_RATE_LIMIT_LOGIN_WINDOW_MS=60000
API_RATE_LIMIT_LOGIN_MAX=20
API_RATE_LIMIT_PIN_WINDOW_MS=60000
API_RATE_LIMIT_PIN_MAX=30

# Configuration CORS - URL du frontend autorisé
# Cette URL sera automatiquement ajoutée à la liste des origines autorisées
FRONTEND_URL=https://teach-digital.vercel.app

# Origine supplémentaire autorisée (optionnel)
# Utilisez cette variable si vous avez plusieurs frontends ou domaines
# Format: URL unique ou plusieurs URLs séparées par des virgules
# Exemple: ALLOWED_ORIGIN=https://teach-digital.vercel.app,https://teachdigital.vercel.app
ALLOWED_ORIGIN=
